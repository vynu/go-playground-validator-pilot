{
  "operation": "INSERT",
  "table": "users",
  "database": "production_db",
  "schema": "public",
  "timestamp": "2025-09-21T18:00:00Z",
  "transaction_id": "txn_12345abcdef",
  "connection_info": {
    "host": "db.example.com",
    "port": 5432,
    "database": "production_db",
    "username": "app_user",
    "ssl_mode": "require",
    "connection_pool": "primary",
    "connection_id": "conn_789"
  },
  "record_data": {
    "id": "usr_98765fedcba",
    "email": "dbuser@example.com",
    "username": "dbuser123",
    "password_hash": "$2b$12$LQv3c1yqBWVHxkd0LQ4YCOuLd/8Lb7qXNJj5cPHblIY8C3O8L9K2S",
    "first_name": "Database",
    "last_name": "User",
    "phone": "+1-555-246-8135",
    "date_of_birth": "1985-03-22",
    "created_at": "2025-09-21T18:00:00Z",
    "updated_at": "2025-09-21T18:00:00Z",
    "email_verified": false,
    "phone_verified": false,
    "status": "active",
    "account_type": "standard",
    "last_login": null,
    "login_count": 0,
    "failed_login_attempts": 0,
    "locked_until": null,
    "preferences": {
      "language": "en-US",
      "timezone": "America/Chicago",
      "notifications": {
        "email": true,
        "sms": false,
        "push": true
      },
      "marketing": {
        "email_opt_in": true,
        "sms_opt_in": false
      }
    },
    "profile": {
      "bio": "Software engineer passionate about databases",
      "website": "https://dbuser.example.com",
      "avatar_url": "https://cdn.example.com/avatars/usr_98765fedcba.jpg",
      "cover_image_url": null,
      "location": "Chicago, IL",
      "company": "Database Corp",
      "job_title": "Senior Database Engineer"
    },
    "metadata": {
      "signup_source": "referral",
      "referrer_id": "usr_11111aaaaa",
      "utm_campaign": "db_specialists",
      "utm_source": "linkedin",
      "utm_medium": "social",
      "signup_ip": "192.168.1.200",
      "signup_user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
    }
  },
  "validation_constraints": {
    "primary_key": {
      "field": "id",
      "type": "varchar(50)",
      "unique": true,
      "not_null": true
    },
    "unique_constraints": [
      {
        "fields": ["email"],
        "name": "users_email_unique"
      },
      {
        "fields": ["username"],
        "name": "users_username_unique"
      }
    ],
    "foreign_keys": [
      {
        "field": "metadata.referrer_id",
        "references": {
          "table": "users",
          "field": "id"
        },
        "on_delete": "SET NULL",
        "on_update": "CASCADE"
      }
    ],
    "check_constraints": [
      {
        "name": "valid_email_format",
        "condition": "email ~ '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$'"
      },
      {
        "name": "valid_status",
        "condition": "status IN ('active', 'inactive', 'suspended', 'deleted')"
      },
      {
        "name": "valid_account_type",
        "condition": "account_type IN ('standard', 'premium', 'enterprise', 'admin')"
      },
      {
        "name": "positive_login_count",
        "condition": "login_count >= 0"
      },
      {
        "name": "valid_phone_format",
        "condition": "phone IS NULL OR phone ~ '^\\+?[1-9]\\d{1,14}$'"
      }
    ],
    "not_null_constraints": [
      "id", "email", "username", "password_hash",
      "first_name", "last_name", "created_at",
      "updated_at", "status", "account_type"
    ],
    "data_types": {
      "id": "varchar(50)",
      "email": "varchar(255)",
      "username": "varchar(50)",
      "password_hash": "varchar(255)",
      "first_name": "varchar(100)",
      "last_name": "varchar(100)",
      "phone": "varchar(20)",
      "date_of_birth": "date",
      "created_at": "timestamp with time zone",
      "updated_at": "timestamp with time zone",
      "email_verified": "boolean",
      "phone_verified": "boolean",
      "status": "varchar(20)",
      "account_type": "varchar(20)",
      "last_login": "timestamp with time zone",
      "login_count": "integer",
      "failed_login_attempts": "integer",
      "locked_until": "timestamp with time zone",
      "preferences": "jsonb",
      "profile": "jsonb",
      "metadata": "jsonb"
    }
  },
  "performance_hints": {
    "indexes": [
      {
        "name": "idx_users_email",
        "fields": ["email"],
        "type": "btree",
        "unique": true
      },
      {
        "name": "idx_users_username",
        "fields": ["username"],
        "type": "btree",
        "unique": true
      },
      {
        "name": "idx_users_created_at",
        "fields": ["created_at"],
        "type": "btree"
      },
      {
        "name": "idx_users_status_account_type",
        "fields": ["status", "account_type"],
        "type": "btree"
      }
    ],
    "partitioning": {
      "type": "range",
      "field": "created_at",
      "interval": "monthly"
    },
    "estimated_size": "1.2KB",
    "query_complexity": "O(log n)"
  },
  "audit_trail": {
    "operation_type": "INSERT",
    "performed_by": "app_user",
    "performed_at": "2025-09-21T18:00:00Z",
    "source_application": "user_management_api",
    "source_ip": "10.0.1.50",
    "affected_rows": 1,
    "rollback_info": {
      "available": true,
      "retention_days": 30
    }
  }
}